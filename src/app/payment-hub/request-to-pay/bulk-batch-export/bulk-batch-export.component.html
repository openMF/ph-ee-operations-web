<div class="container batch-summary">
  <p>Batch summary</p>

  <div *ngFor="let batches of BatchSummaryData">
    <mat-card class="batch-details-card"
      ><mat-card-title>Batch Id : {{ batches.batch_id }}</mat-card-title>
      <div class="batch-details-card_box">
        <mat-card-subtitle
          ><span>Request Id :</span> {{ batches.request_id }}</mat-card-subtitle
        >
        <mat-card-subtitle
          ><span>Total :</span> {{ batches.total }}</mat-card-subtitle
        >
        <mat-card-subtitle
          ><span>Amount Total :</span>
          {{ batches.totalAmount }}</mat-card-subtitle
        >
        <mat-card-subtitle
          ><span>Status : </span>{{ batches.status }}</mat-card-subtitle
        >
        <mat-card-subtitle
          ><span>Successful :</span> {{ batches.successful }}</mat-card-subtitle
        >
        <mat-card-subtitle
          ><span>Failed :</span> {{ batches.failed }}</mat-card-subtitle
        >

        <mat-card-subtitle
          ><span>Ongoing :</span> {{ batches.ongoing }}</mat-card-subtitle
        >
      </div>
      <button
        class="primary batch-details_button"
        [value]="batches.batch_id"
        (click)="getBatchDetails($event.target.value)"
      >
        View Batch Details
      </button>
    </mat-card>

    <table
      mat-table
      [dataSource]="dataSourceGetDetails"
      class="mat-elevation-z8 demo-table"
    >
      <!-- Position Column -->

      <!-- Name Column -->
      <ng-container matColumnDef="Request Id">
        <th mat-header-cell *matHeaderCellDef>Request Id</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>
      <ng-container matColumnDef="Transaction Id">
        <th mat-header-cell *matHeaderCellDef>Transaction Id</th>
        <td mat-cell *matCellDef="let element">{{ element.completed }}</td>
      </ng-container>
      <ng-container matColumnDef="Completion Time">
        <th mat-header-cell *matHeaderCellDef>Completion Time</th>
        <td mat-cell *matCellDef="let element">
          {{ formatDateSummary(element.completedAt) }}
        </td>
      </ng-container>
      <ng-container matColumnDef="Start Time">
        <th mat-header-cell *matHeaderCellDef>Start Time</th>
        <td mat-cell *matCellDef="let element">
          {{ formatDateSummary(element.startedAt) }}
        </td>
      </ng-container>
      <ng-container matColumnDef="Amount">
        <th mat-header-cell *matHeaderCellDef>Amount</th>
        <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
      </ng-container>
      <ng-container matColumnDef="Currency">
        <th mat-header-cell *matHeaderCellDef>Currency</th>
        <td mat-cell *matCellDef="let element">{{ element.currency }}</td>
      </ng-container>
      <ng-container matColumnDef="Status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">{{ element.status }}</td>
      </ng-container>
      <ng-container matColumnDef="Payer DFSP">
        <th mat-header-cell *matHeaderCellDef>Payer DFSP</th>
        <td mat-cell *matCellDef="let element">{{ element.payerDfspId }}</td>
      </ng-container>
      <ng-container matColumnDef="Payee DFSP">
        <th mat-header-cell *matHeaderCellDef>Payee DFSP</th>
        <td mat-cell *matCellDef="let element">{{ element.payeeDfspId }}</td>
      </ng-container>

      <ng-container matColumnDef="Payer Party ID">
        <th mat-header-cell *matHeaderCellDef>Payer Party ID</th>
        <td mat-cell *matCellDef="let element">{{ element.payerPartyId }}</td>
      </ng-container>
      <ng-container matColumnDef="Payee Party ID">
        <th mat-header-cell *matHeaderCellDef>Payee Party ID</th>
        <td mat-cell *matCellDef="let element">{{ element.payeePartyId }}</td>
      </ng-container>
      <ng-container matColumnDef="Payee Party ID Type">
        <th mat-header-cell *matHeaderCellDef>Payee Party ID Type</th>
        <td mat-cell *matCellDef="let element">
          {{ element.payeePartyIdType }}
        </td>
      </ng-container>
      <ng-container matColumnDef="WorkFlow Instance Key">
        <th mat-header-cell *matHeaderCellDef>WorkFlow Instance Key</th>
        <td mat-cell *matCellDef="let element">
          {{ shortenValueDetails(element.workflowInstanceKey) }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      #paginator
      [pageSizeOptions]="[50, 100, 200]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>
  </div>
</div>
